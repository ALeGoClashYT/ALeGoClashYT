<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALeGoClash YT</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"/>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Ballet&display=swap" rel="stylesheet">

<style>
/* ===== PRELOADER ===== */
#preloader{position:fixed;width:100%;height:100%;background:#000;display:flex;justify-content:center;align-items:center;z-index:2000;}
.loader{width:60px;height:60px;border:5px solid #111;border-top:5px solid #00f2ff;border-radius:50%;animation:spin 1s linear infinite;}
@keyframes spin{100%{transform:rotate(360deg);}}

/* ===== GENERAL ===== */
*{margin:0;padding:0;box-sizing:border-box;scroll-behavior:smooth;}
body{font-family:'Poppins', sans-serif;background:#0b0b0f;color:#fff;overflow-x:hidden;opacity:0;animation:pageFade 1s ease forwards;}
@keyframes pageFade{to{opacity:1;}}
#particles-js{position:fixed;width:100%;height:100%;z-index:-1;}

/* ===== NAVBAR ===== */
nav{position:fixed;width:100%;padding:15px 20px;display:flex;align-items:center;background:rgba(0,0,0,0.6);backdrop-filter:blur(10px);z-index:1000;justify-content:space-between;transform:translateY(-80px);opacity:0;animation:navDrop 1s ease forwards;animation-delay:0.3s;}
@keyframes navDrop{to{transform:translateY(0);opacity:1;}}
.logo-container{display:flex;align-items:center;gap:10px;transform:scale(0.8);opacity:0;animation:logoPop 1s ease forwards;animation-delay:0.6s;}
@keyframes logoPop{to{transform:scale(1);opacity:1;}}
.logo{font-family:'Orbitron', sans-serif;font-weight:860;color:#00f2ff;text-shadow:0 0 15px #00f2ff;font-size:18px;animation:logoGlow 2s ease-in-out infinite alternate;}
@keyframes logoGlow{from{text-shadow:0 0 8px #00f2ff;} to{text-shadow:0 0 20px #00f2ff;}}
.logo-container img{width:40px;height:40px;object-fit:contain;}
.nav-right{display:flex;align-items:center;gap:20px;}
nav ul{list-style:none;display:flex;gap:25px;}
nav ul li{cursor:pointer;}
nav ul li a{color:#fff;font-weight:500;text-decoration:none;text-shadow:0 0 8px #00f2ff,0 0 15px #00f2ff;transition:0.3s;}
nav ul li a:hover{color:#00f2ff;text-shadow:0 0 15px #00f2ff,0 0 25px #00f2ff;}
.social-icons{display:flex;align-items:center;gap:15px;}
.social-icons a{color:#fff;font-size:24px;transition:0.3s;}
.social-icons a:hover{color:#00f2ff;text-shadow:0 0 10px #00f2ff;}
.menu-toggle{display:none;font-size:25px;cursor:pointer;}

/* ===== SECTIONS ===== */
section{padding:140px 10% 80px;display:none;}
section.active{display:block;}

/* ===== HERO ===== */
.hero{display:flex;justify-content:space-between;align-items:center;min-height:calc(100vh - 100px);flex-wrap:wrap;text-align:center;}
.hero img{width:100%;max-width:330px;border-radius:40px;box-shadow:0 0 40px #00f2ff;transform:scale(0.5);opacity:0;animation:heroImgEnter 1.2s forwards;}
@keyframes heroImgEnter{0%{opacity:0;transform:scale(0.5) translateX(-50px);}100%{opacity:1;transform:scale(1) translateX(0);}}
.hero-text{max-width:600px;margin:auto;opacity:0;transform:translateX(50px);animation:heroTextEnter 1.2s forwards;animation-delay:0.5s;}
@keyframes heroTextEnter{0%{opacity:0;transform:translateX(50px);}100%{opacity:1;transform:translateX(0);}}
.hero-text h1{font-family:'Orbitron', sans-serif;font-size:45px;color:#00f2ff;text-shadow:0 0 20px #00f2ff;margin-bottom:10px;}
.main-tagline{font-size:20px;margin-bottom:20px;}
.roles{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:500px;margin:0 auto 20px auto;flex-wrap:nowrap;}
.roles span{display:inline-block;white-space:nowrap;font-weight:bold;font-size:16px;color:#00f2ff;text-shadow:0 0 8px #00f2ff;}
.btn{display:inline-block;padding:12px 25px;border:2px solid #00f2ff;border-radius:30px;text-decoration:none;color:#00f2ff;margin-right:15px;transition:0.3s;}
.btn:hover{background:#00f2ff;color:#000;box-shadow:0 0 20px #00f2ff;}

/* ===== VIDEO GRID ===== */
.video-grid{
  display: grid;
  grid-template-columns: repeat(4,1fr);
  gap:20px;
  margin-top:20px;
}
.video-card{cursor:pointer;border-radius:15px;overflow:hidden;box-shadow:0 0 20px #00f2ff;transition:0.3s;position:relative;}
.video-card img{width:100%;display:block;}
.video-card:hover{transform:scale(1.05);}
.video-card span.desc{
  position:absolute;
  bottom:5px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,0.8);
  padding:5px 8px;
  border-radius:5px;
  font-size:10px;
  display:none;
  max-width:100%;
  text-align:center;
}
.video-card:hover span.desc{display:block;}

/* ===== MODAL FULLSCREEN ===== */
.video-modal{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;justify-content:center;align-items:center;z-index:3000;opacity:0;pointer-events:none;transition:0.4s;}
.video-modal.active{opacity:1;pointer-events:auto;}
.modal-content{width:90%;max-width:1200px;position:relative;transition:0.5s;transform:scale(0.7);}
.modal-content.active-scale{transform:scale(1);}
.modal-content iframe{width:100%;height:80vh;border-radius:15px;}
.close-modal{position:absolute;top:15px;right:15px;font-size:30px;cursor:pointer;z-index:10;}
.modal-nav{
  position:absolute;top:50%;transform:translateY(-50%);
  font-size:30px;color:#00f2ff;cursor:pointer;user-select:none;
  background:rgba(0,0,0,0.5);padding:10px;border-radius:50%;transition:0.3s;
}
img[alt="Logo"] {
  width: 80px;      /* ÙƒØ¨Ø± Ø§Ù„Ø±Ù‚Ù… Ø²ÙŠ Ù…Ø§ ØªØ­Ø¨ */
  height: auto;
  vertical-align: middle;
}
.modal-nav:hover{background:rgba(0,0,0,0.8);}
#prevVideo{left:-60px;}
#nextVideo{right:-60px;}
#fullscreenBtn{
  position:absolute;bottom:10px;right:10px;width:40px;height:40px;border:none;border-radius:50%;background:rgba(0,0,0,0.6);color:#fff;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:4000;
}
#fullscreenBtn:hover{background:rgba(0,0,0,0.9);}

/* ===== RESPONSIVE ===== */
@media(max-width:1200px){.video-grid{grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:15px;}}
@media(max-width:900px){
  nav{flex-wrap:nowrap;justify-content:space-between;align-items:center;}
  .nav-right{flex-wrap:nowrap;justify-content:flex-end;width:auto;margin-top:0;}
  nav ul{position:absolute;top:60px;right:10px;background:#111;flex-direction:column;width:180px;display:none;padding:10px;z-index:1001;}
  nav ul.active{display:flex;}
  .social-icons{display:flex;align-items:center;gap:15px;}
  .menu-toggle{display:block;}
  .hero{flex-direction:column;text-align:center;}
  .video-grid{grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));}
  .modal-content iframe {
  width: 100%;
  height: 100vh; /* Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
  border-radius: 15px;
}
}


@media(max-width:600px){
  .hero img{max-width:80%;height:auto;}
  .hero-text h1{font-size:24px;}
  .main-tagline{font-size:14px;}
  .roles{max-width:100%;gap:8px;flex-wrap:wrap;justify-content:center;}
  .roles span{font-size:12px;}
  .btn{padding:6px 12px;font-size:12px;margin-right:8px;}
  .social-icons a{font-size:20px;}
  .logo{font-size:16px;}
  .logo-container img{width:35px;height:35px;}
}
/* ===== HOME TOP VIDEO ===== */
.home-video-wrapper{
  width:100%;
  margin-top:80px; /* Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ù†Ø§Ù Ø¨Ø§Ø± Ø«Ø§Ø¨Øª */
}

.home-video-wrapper iframe{
  width:100%;
  height:70vh; /* Ø§Ù„Ø·ÙˆÙ„ Ù…Ø´ Ù…Ù‡Ù… Ù‚ÙˆÙŠ Ø²ÙŠ Ù…Ø§ Ù‚Ù„Øª */
  border:none;
  display:block;
}

.stat-card h3{
  font-family:'Orbitron', sans-serif;
  font-size:18px;
  color:#00f2ff;
  margin-bottom:10px;
  text-shadow:0 0 10px #00f2ff;
}
.counter{
  font-size:22px;
  font-weight:bold;
  color:#fff;
  text-shadow:0 0 8px #00f2ff;
}
#channel-name{
  font-size:16px;
  font-weight:bold;
  color:#00f2ff;
  margin-top:5px;
  text-shadow:0 0 8px #00f2ff;
}

#scrollTopBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#00f2ff;
  color:#000;
  border:none;
  padding:10px 15px;
  border-radius:50%;
  font-size:18px;
  cursor:pointer;
  display:none;
  box-shadow:0 0 15px #00f2ff;
  z-index:5000;
  transition:0.3s;
}
#scrollTopBtn:hover{
  transform:scale(1.1);
}

.video-card{
  transition:0.4s;
}
.video-card:hover{
  transform:scale(1.07);
  box-shadow:0 0 35px #00f2ff;
}

/* ===== CONTACT MODAL ===== */
.contact-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:6000;
}

.contact-box{
  background:#111;
  padding:30px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 0 30px #00f2ff;
  animation:fadeContact 0.3s ease;
}

@keyframes fadeContact{
  from{transform:scale(0.7);opacity:0;}
  to{transform:scale(1);opacity:1;}
}

.contact-item{
  margin:20px 0;
}

.contact-item a{
  text-decoration:none;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:0.3s;
}

.contact-item img{
  width:60px;
  margin-bottom:8px;
  transition:0.3s;
}

.contact-item a:hover img{
  transform:scale(1.15);
}

.contact-item a:hover{
  color:#00f2ff;
}

.contact-close{
  position:absolute;
  margin-top:-15px;
  margin-left:120px;
  font-size:25px;
  cursor:pointer;
}

.signature-text {
  text-align: center;
  margin-bottom: 22px;
}

.signature-text .small {
  font-family: 'Ballet', cursive;
  font-size: 26px;
  color: #fff; /* Ø°Ù‡Ø¨ Ù†Ø§Ø¹Ù… */
  text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff;
}

.signature-text .big {
  font-family: 'Ballet', cursive;
  font-size: 46px;
  color: #FFD873; /* Ø°Ù‡Ø¨ Ù†Ø§Ø¹Ù… */
  text-transform: capitalize;
  letter-spacing: 1px;
  text-shadow: 0 0 5px #FFD873, 0 0 10px #FFD873, 0 0 20px #FFD873, 0 0 30px #FFD873;
}

/* ===== QUIZ ANIMATIONS ===== */

.fade-in{
  animation:fadeIn 0.4s ease;
}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(15px);}
  to{opacity:1;transform:translateY(0);}
}

.timer-bar{
  height:8px;
  background:#00f2ff;
  margin-bottom:20px;
  border-radius:5px;
  transition:width 1s linear;
}

.combo-text{
  text-align:center;
  color:#FFD873;
  margin-bottom:10px;
  font-weight:bold;
  text-shadow:0 0 10px #FFD873;
}

.shake{
  animation:shake 0.3s;
}
@keyframes shake{
  0%{transform:translateX(0);}
  25%{transform:translateX(-5px);}
  50%{transform:translateX(5px);}
  75%{transform:translateX(-5px);}
  100%{transform:translateX(0);}
}

#puzzleButtons {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  flex-wrap: nowrap !important;
  justify-content: center;
  gap: 15px;
}

#puzzleButtons .btn {
  display: flex;              /* ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø²Ø± Ù„ØµÙ†Ø¯ÙˆÙ‚ Ù…Ø±Ù† */
  align-items: center;        /* ÙŠÙ…Ø±ÙƒØ² Ø§Ù„Ù†Øµ Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ */
  justify-content: center;    /* ÙŠÙ…Ø±ÙƒØ² Ø§Ù„Ù†Øµ Ø£ÙÙ‚ÙŠÙ‹Ø§ */
  white-space: nowrap;        /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù†Ø²ÙˆÙ„ Ù„Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ */
  padding: 10px 22px;         /* Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø®Ù„ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø±ØºØ¨Ø© */
  font-size: 16px;            /* Ø­Ø¬Ù… Ø§Ù„Ù†Øµ */
  text-align: center;         /* ÙŠØ¶Ù…Ù† Ø£Ù† Ø£ÙŠ Ù†Øµ Ø£Ø·ÙˆÙ„ ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
}
</style>
</head>
<body>

<div id="preloader"><div class="loader"></div></div>
<div id="particles-js"></div>

<nav>
  <div class="logo-container">
    <div class="logo">ALeGoClash YT</div>
    <img  src="AG-logo.png" alt="Logo" loading="lazy">
  </div>
  <div class="nav-right">
    <ul id="menu">
      <li data-section="home"><a>Home</a></li>
      <li data-section="gaming"><a>Gaming</a></li>
      <li data-section="anime"><a>Anime</a></li>
      <li data-section="marvel"><a>Marvel</a></li>
      <li data-section="states"><a>States</a></li>
    </ul>
    <div class="social-icons">
      <a href="https://youtube.com/@alego.yt.1?si=1Z3qtFv2LeMa7kKB"><i class="fab fa-youtube"></i></a>
      <a href="https://www.facebook.com/share/1C4XhCpoLL/"><i class="fab fa-facebook"></i></a>
      <a href="https://vm.tiktok.com/ZS9eqAbKmbprC-OUw1C/"><i class="fab fa-tiktok"></i></a>
      <span class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></span>
    </div>
  </div>
</nav>

<section id="home" class="active" data-aos="fade-up" data-aos-duration="1000">
<div class="hero">
<img src="anaspic.jpg" alt="Image" data-aos="fade-right" data-aos-duration="1000" loading="lazy">
<div class="hero-text" data-aos="fade-left" data-aos-duration="1000">
    <div class="signature-text">
    <span class="small">Made &nbsp; by&nbsp;  :&nbsp; </span>
    <span class="big">Anas</span>
  </div>

<h1>Welcome To ALeGO World</h1>
<div class="main-tagline">
Enter The Arena Where Games ğŸ® Anime ğŸŒ <br> & Marvel Collide ğŸ”¥
</div>
<div class="roles">
<span>Video Editor</span>
<span>Content Creator</span>
<span>Designer</span>
</div>
<a href="javascript:void(0)" class="btn" onclick="openArena()">Enter Arena</a>
<a href="javascript:void(0)" class="btn" onclick="openContact()">Contact</a>
</div>
<div class="home-video-wrapper">
  <iframe 
    src="https://www.youtube.com/embed/lRV7RbyxXcg?autoplay=1&mute=1&controls=1&modestbranding=1&rel=0&playsinline=1"
    allow="autoplay; encrypted-media"
    allowfullscreen>
  </iframe>
</div>
</div>
</div>
</section>

<section id="gaming" data-aos="fade-up" data-aos-duration="1000">
<h2>Gaming Section</h2>
<div class="video-grid" id="gaming-grid"></div>
</section>

<section id="anime" data-aos="fade-up" data-aos-duration="1000">
<h2>Anime Section</h2>
<div class="video-grid" id="anime-grid"></div>
</section>

<section id="marvel" data-aos="fade-up" data-aos-duration="1000">
<h2>Marvel Section</h2>
<div class="video-grid" id="marvel-grid"></div>
</section>

<section id="states" data-aos="fade-up" data-aos-duration="1000">
  <h2>Channel Stats</h2>
  <div class="stats-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:20px; max-width:1000px; margin:30px auto;">
    <div class="stat-card" style="background:#1e1e1e; padding:20px; border-radius:15px; text-align:center; box-shadow:0 0 20px #00f2ff;">
      <h3>Subscribers</h3>
      <p class="counter" id="subs-count">0</p>
    </div>
    <div class="stat-card" style="background:#1e1e1e; padding:20px; border-radius:15px; text-align:center; box-shadow:0 0 20px #00f2ff;">
      <h3>Total Views</h3>
      <p class="counter" id="views-count">0</p>
    </div>
    <div class="stat-card" style="background:#1e1e1e; padding:20px; border-radius:15px; text-align:center; box-shadow:0 0 20px #00f2ff;">
      <h3>Videos</h3>
      <p class="counter" id="videos-count">0</p>
    </div>
    <div class="stat-card" style="background:#1e1e1e; padding:20px; border-radius:15px; text-align:center; box-shadow:0 0 20px #00f2ff;">
      <h3>Channel</h3>
      <img id="channel-thumb" src="" alt="Channel Logo" style="width:60px;height:60px;border-radius:50%;margin-bottom:5px;box-shadow:0 0 15px #00f2ff;" loading="lazy">
      <p id="channel-name">Loading...</p>
    </div>
  </div>
</section>
<!-- ===== ARENA SECTION ===== -->
<section id="arena">
  <h1 style="text-align:center;font-family:'Orbitron';color:#00f2ff;text-shadow:0 0 20px #00f2ff;">
    Welcome in the Arena
  </h1>

  <div style="text-align:center;margin-top:40px;">
    
    <a class="btn">Coming soon </a>
    <a class="btn" onclick="openPuzzle()">Solve Puzzles</a>
    <a class="btn">Coming soon</a>
  </div>

  <div style="position:absolute;bottom:30px;right:40px;">
    <a class="btn" onclick="goBack()">Back</a>
  </div>
</section>


<!-- ===== PUZZLE MENU ===== -->
<section id="puzzleMenu">
  <h2 style="text-align:center;color:#00f2ff;">Choose a category</h2>

  <div id="puzzleButtons" 
       style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;max-width:600px;margin:40px auto;">
  </div>

  <div style="position:absolute;bottom:30px;right:40px;">
    <a class="btn" onclick="goBack()">Back</a>
  </div>
</section>


<!-- ===== QUIZ SECTION ===== -->
<section id="quizSection">
  <div id="quizContainer" style="max-width:700px;margin:auto;"></div>

  <div style="position:absolute;bottom:30px;right:40px;">
    <a class="btn" onclick="goBack()">Back</a>
  </div>
</section>

<!-- ===== MODAL ===== -->
<div class="video-modal" id="videoModal">
  <div class="modal-content">
    
    <span class="close-modal" onclick="closeVideo()">&times;</span>
    <iframe id="videoFrame" src="" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen></iframe>
      <div id="videoThumbWrapper" 
     style="display:none;width:100%;height:90vh;background-size:cover;background-position:center;border-radius:15px;cursor:pointer;">
</div>
    <div id="prevVideo" class="modal-nav">&#10094;</div>
    <div id="nextVideo" class="modal-nav">&#10095;</div>
    <button id="fullscreenBtn"><i class="fas fa-expand"></i></button>
  </div>
</div>
<!-- ===== CONTACT MODAL ===== -->
<div id="contactModal" class="contact-modal">
  <div class="contact-box">

    <span class="contact-close" onclick="closeContact()">&times;</span>

    <div class="contact-item">
      <a href="https://m.me/anas.magdyalyy" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968764.png">
        <p>Messenger</p>
      </a>
    </div>

    <div class="contact-item">
      <a href="mailto:anas312royal@gmail.com">
        <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png">
        <p>Email</p>
      </a>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
AOS.init();

/* ===== PRELOADER ===== */
window.addEventListener("load", () => {
  document.getElementById("preloader").style.display = "none";
});

/* ===== PARTICLES BACKGROUND ===== */
particlesJS("particles-js", {
  "particles": {
    "number": {"value":100},
    "color":{"value":"#00f2ff"},
    "shape":{"type":"triangle"},
    "opacity":{"value":0.5},
    "size":{"value":2},
    "line_linked":{"enable":true,"distance":180,"color":"#00f2ff","opacity":0.4,"width":0.8},
    "move":{"enable":true,"speed":4}
  }
});

/* ===== NAVBAR MENU TOGGLE ===== */
function toggleMenu() {
  document.getElementById("menu").classList.toggle("active");
}
/* ===== TABS SWITCHING ===== */
const tabs = document.querySelectorAll('#menu li');
const sections = document.querySelectorAll('section');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    const target = tab.getAttribute('data-section');

    sections.forEach(sec => sec.classList.remove('active'));
    const section = document.getElementById(target);
    section.classList.add('active');

    window.scrollTo(0,0);

    // ğŸ”¥ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù‡ÙˆÙ… ÙƒÙ„ Ù…Ø±Ø© Ù†Ø¯ÙˆØ³ Home
    if(target === 'home'){
      const homeVideo = document.querySelector('#home iframe');
      homeVideo.src = homeVideo.src;
    }

    if(window.innerWidth <= 900){
      document.getElementById("menu").classList.remove("active");
    }
  });

});

/* ===== VIDEO ARRAYS ===== */
let gamingCategories = {
  "Lords Mobile": [
    {id:'RgFDVH1HQhM', desc:'My Rally Trap ğŸ˜'},
    {id:'GmrwxEZOLEA', desc:'My Rally Trap ğŸ˜ (P2)'},
    {id:'F106cJpyqV0', desc:'So Many Rallies on me ğŸ’€'},
    {id:'WvXSi5RKZLM', desc:'Showing States  of 2 pieces ğŸ’€'},
    {id:'WBv-qD9Mg1I', desc:'Ù„Ù…Ø§ ÙŠÙƒÙˆÙ† ØµØ§Ø­Ø¨Ùƒ Ù…ØºØ±ÙˆØ± ÙˆØªØ¹Ù„Ù…Ù‡ Ø¯Ø±Ø³'},
    {id:'BQiFxZPfFTE', desc:'I got The Highest score in the Game!'},
    {id:'iQEeQeCp0R8', desc:'Some fun'},
    {id:'LWjzy61QmkM', desc:'testing a new trap ğŸ”¥'},
    {id:'6VdKVBFBn4U', desc:'My Rally Trap is Back!!'}
  ],

  "Free Fire": [
    {id:'HK6r1G6wQwI', desc:'Skateboard event !'},
    {id:'V6U8kK0fGHQ', desc:'3 seconds ğŸ’€'},
    {id:'qB_RgP1JN9k', desc:'New Trend !'},
    {id:'41Z1uNFNbzA', desc:'Ù„Ù…Ø§ ØªÙƒØ³Ø¨ ØµØ§Ø­Ø¨Ùƒ Ø±ÙˆÙ…'}
  ],

  "Clash of Clans": [
    // Ø¶ÙŠÙ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªÙƒ Ù‡Ù†Ø§
      {id:'rqS53VXdmAM', desc:'Review My Acc In Clash Of Clans'},
  ],

  "Clash Royale": [
    // Ø¶ÙŠÙ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªÙƒ Ù‡Ù†Ø§
    {id:'SuTywOUTqn4', desc:'Review My Acc In Clash Royale'},
    {id:'93NXZ7e2ghE', desc:'How To PLay With 2.3 Deck'},
    {id:'6i_w1Bqt9Ds', desc:'Win Against Beatdown Decks'},
    {id:'_L4iSKoKiPo', desc:'A Hard Win?'},
    {id:'seaR_1ItRU0', desc:'Win Against Hogrider'},
    {id:'B6dX2uktATk', desc:'How To PLay With 2.4 Deck'},
    {id:'sagCqynU_ps', desc:'Reach 10,000 trophies'}
  ]
};
let animeVideos = [
  {id:'9zIor5qP7b0', desc:'GOJO <BR> VS <BR> Miguel'},
  {id:'-75h1pyYHsc', desc:'When GOJO <BR> Gets Serious ğŸ’€'},
  {id:'SMDKFtTVgGI', desc:'GOJO <BR> VS <BR> JOGO'}
];
let marvelVideos = [
  {id:'70pHukpTyhk', desc:'SPIDER-MAN <br> VS <br> DR.STRANGE '},
  {id:'GoockRFyx_4', desc:'DR.STRANGE BEST AURA'},
  {id:'KzMRavXCe9o', desc:'"I HAVE COME TO BARGAIN"'},
  {id:'NtwCLlILiPc', desc:'TOM HOLLAND DANCE <br>  ON BEATS ğŸ˜‚'},
  {id:'moVZnIMCm7w', desc:'SPIDER-MAN <br> VS <br> GREEN-GOBLIN '},
  {id:'WsLyDwMoZE8', desc:'THOR VS HULK'},
  {id:'4YoXzgGhqkw', desc:'SPIDER-MAN <br> VS <br> CAP-AMERICA'},
  {id:'Q09LJCp8MYk', desc:'IRON-MAN BEST AURA'},
  {id:'VkAhflXyVtk', desc:'THE STRENGHT OF<BR> SPIDER-MAN'}
];

/* ===== CREATE VIDEO GRID ===== */
function createVideoGrid(videos, gridId){
  const grid = document.getElementById(gridId);
  grid.innerHTML = "";
  videos.forEach((v,index) => {
    const div = document.createElement('div');
    div.className = 'video-card';
    div.innerHTML = `<img src="https://img.youtube.com/vi/${v.id}/0.jpg" title="${v.desc}"><span class="desc">${v.desc}</span>`;
    div.onclick = () => openVideo(videos, index);
    grid.appendChild(div);
  });
}

/* ===== GENERATE GRIDS ===== */
function createGamingSection(){
  const grid = document.getElementById('gaming-grid');
  grid.innerHTML = "";

  Object.keys(gamingCategories).forEach(category => {

    // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©
    const title = document.createElement('h3');
    title.style.gridColumn = "1 / -1";
    title.style.marginTop = "40px";
    title.style.color = "#00f2ff";
    title.innerText = category;
    grid.appendChild(title);

    // ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
    gamingCategories[category].forEach((v,index) => {
      const div = document.createElement('div');
      div.className = 'video-card';
      div.innerHTML = `
        <img src="https://img.youtube.com/vi/${v.id}/0.jpg">
        <span class="desc">${v.desc}</span>
      `;
      div.onclick = () => openVideo(gamingCategories[category], index);
      grid.appendChild(div);
    });

  });
}

createGamingSection();
createVideoGrid(animeVideos,'anime-grid');
createVideoGrid(marvelVideos,'marvel-grid');



/* ===== FULLSCREEN VIDEO MODAL WITH END THUMBNAIL ===== */
let currentVideos = [];
let currentIndex = 0;
const modal = document.getElementById("videoModal");
const modalContent = modal.querySelector(".modal-content");
const videoFrame = document.getElementById("videoFrame");
const thumbWrapper = document.getElementById('videoThumbWrapper');

function openVideo(videos, index){
  currentVideos = videos;
  currentIndex = index;

  // Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ø¹ autoplay Ùˆ mute
  const embedLink = `https://www.youtube.com/embed/${videos[index].id}?autoplay=1&mute=1&modestbranding=1&rel=0&playsinline=1`;
  videoFrame.src = embedLink;

  modal.classList.add("active");
  modalContent.classList.add("active-scale");

  // Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ø¨Ø§Ø´Ø±Ø©
  videoFrame.style.display = "block";
  thumbWrapper.style.display = "none";
  videoFrame.style.height = window.innerWidth <= 900 ? "85vh" : "90vh";
  
  // Ø£Ø¶Ù listener Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù€ thumbnail
  videoFrame.onload = () => {
    const player = new YT.Player(videoFrame, {
      events: {
        'onStateChange': (event) => {
          if(event.data === YT.PlayerState.ENDED){
            // Ù„Ù…Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠØ®Ù„Øµ
            showThumbnail(videos[index].id);
          }
        }
      }
    });
  }
}

function showThumbnail(videoId){
  thumbWrapper.style.backgroundImage = `url('https://img.youtube.com/vi/${videoId}/0.jpg')`;
  thumbWrapper.style.display = "block";
  videoFrame.style.display = "none";

  // Ù„Ùˆ Ø¶ØºØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© ÙŠØ¨Ø¯Ø£ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ù† Ø¬Ø¯ÙŠØ¯
  thumbWrapper.onclick = () => {
    videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&modestbranding=1&rel=0&playsinline=1`;
    videoFrame.style.display = "block";
    thumbWrapper.style.display = "none";
  }
}

/* ===== CLOSE VIDEO ===== */
function closeVideo(){
  modalContent.classList.remove("active-scale");
  setTimeout(()=>{
    modal.classList.remove("active");
    videoFrame.src = "";
    thumbWrapper.style.display = "none";
  }, 300);
}

/* ===== CLICK OUTSIDE TO CLOSE ===== */
modal.addEventListener("click", (e)=>{
  if(e.target === modal) closeVideo();
});

/* ===== NEXT / PREV VIDEO ===== */
document.getElementById("nextVideo").addEventListener("click", (e)=>{
  e.stopPropagation();
  if(currentVideos.length === 0) return;
  currentIndex = (currentIndex + 1) % currentVideos.length;
  openVideo(currentVideos, currentIndex);
});

document.getElementById("prevVideo").addEventListener("click", (e)=>{
  e.stopPropagation();
  if(currentVideos.length === 0) return;
  currentIndex = (currentIndex - 1 + currentVideos.length) % currentVideos.length;
  openVideo(currentVideos, currentIndex);
});

/* ===== FULLSCREEN BUTTON ===== */
const fullscreenBtn = document.getElementById('fullscreenBtn');
fullscreenBtn.addEventListener('click', (e)=>{
  e.stopPropagation();
  if(modal.requestFullscreen) modal.requestFullscreen();
  else if(modal.webkitRequestFullscreen) modal.webkitRequestFullscreen();
  else if(modal.mozRequestFullScreen) modal.mozRequestFullScreen();
  else if(modal.msRequestFullscreen) modal.msRequestFullscreen();
});

/* ===== ADJUST VIDEO HEIGHT ON RESIZE ===== */
window.addEventListener("resize", ()=>{
  videoFrame.style.height = window.innerWidth <= 900 ? "100vh" : "90vh";
});

const API_KEY = "AIzaSyBTvModFdFi3k4HmHgQ19ZuHihYyArRvk8";
const VIDEO_ID = "lRV7RbyxXcg";

// Ø¹Ø¯Ø§Ø¯ Ù…ØªØ­Ø±Ùƒ
function animateCounter(element, target){
  let count = 0;
  const increment = target/100;
  const interval = setInterval(()=>{
    count += increment;
    if(count >= target) count = target;
    element.innerText = Math.floor(count).toLocaleString();
    if(count >= target) clearInterval(interval);
  },20);
}

// 1ï¸âƒ£ Ø¬Ù„Ø¨ Channel ID Ù…Ù† Video ID
fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${VIDEO_ID}&key=${API_KEY}`)
.then(res => res.json())
.then(data => {
  const channelId = data.items[0].snippet.channelId;

  // 2ï¸âƒ£ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù‚Ù†Ø§Ø©
  fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics,snippet&id=${channelId}&key=${API_KEY}`)
  .then(res => res.json())
  .then(data => {
    const stats = data.items[0].statistics;
    const snippet = data.items[0].snippet;

    document.getElementById("channel-name").innerText = snippet.title;
    document.getElementById("channel-thumb").src = snippet.thumbnails.default.url;

  // ===== ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª ÙƒÙ„ Ù…Ø±Ø© ÙŠØ¸Ù‡Ø± section "states" =====
function animateStatesCounters() {
  const counters = document.querySelectorAll('#states .counter');
  counters.forEach(counter => {
    const target = parseInt(counter.getAttribute('data-target'));
    let count = 0;
    const increment = target / 140;
    const interval = setInterval(() => {
      count += increment;
      if (count >= target) count = target;
      counter.innerText = Math.floor(count).toLocaleString();
      if (count >= target) clearInterval(interval);
    }, 10);
  });
}

// Ø¶Ø¨Ø· Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙÙŠ data-target
document.getElementById("subs-count").setAttribute('data-target', stats.subscriberCount);
document.getElementById("views-count").setAttribute('data-target', stats.viewCount);
document.getElementById("videos-count").setAttribute('data-target', stats.videoCount);

// Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¸Ù‡ÙˆØ± section ÙƒÙ„ Ù…Ø±Ø©
const statesSection = document.getElementById('states');
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if(entry.isIntersecting){
      animateStatesCounters();
    }
  });
}, {threshold: 0.5}); // Ù„Ù…Ø§ Ù†ØµÙ section ÙŠØ¸Ù‡Ø±
observer.observe(statesSection);
  });
  
  const scrollBtn = document.getElementById("scrollTopBtn");

window.addEventListener("scroll", ()=>{
  scrollBtn.style.display = window.scrollY > 300 ? "block" : "none";
});

scrollBtn.addEventListener("click", ()=>{
  window.scrollTo({top:0, behavior:"smooth"});
});
});

function openContact(){
  document.getElementById("contactModal").style.display = "flex";
}

function closeContact(){
  document.getElementById("contactModal").style.display = "none";
}

document.getElementById("contactModal").addEventListener("click", function(e){
  if(e.target === this){
    closeContact();
  }
});

/* =========================
   ARENA SYSTEM V2
========================= */

const puzzleButtonNames = [
  "Anime questions",
  "Mathimatical problems",
  "Generl information",
  "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯ÙŠÙ†ÙŠØ©",
  "Ø£Ø³Ø¦Ù„Ø© Ø§Ù†Ù…ÙŠ",
  "ÙÙˆØ§Ø²ÙŠØ± ÙˆØ§Ù„ØºØ§Ø²",
  "Brain test",
  "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©",
  "still thinking",
];


let historyStack = [];
let currentQuiz = [];
let currentQuestionIndex = 0;
let score = 0;
let combo = 0;
let timer;
let timeLeft = 20;

/* ===== SOUNDS ===== */
const correctSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3");
const wrongSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-tone-2876.mp3");
const winSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3");

/* ===== SECTION CONTROL ===== */
function showSection(id){
  document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function openArena(){
  historyStack.push("home");
  showSection("arena");
}

function openPuzzle(){
  historyStack.push("arena");
  showSection("puzzleMenu");
  generatePuzzleButtons();
}

function goBack(){
  clearInterval(timer);
  score = 0;
  combo = 0;
  if(historyStack.length === 0) return;
  let prev = historyStack.pop();
  showSection(prev);
}

/* ===== BUTTONS ===== */

function generatePuzzleButtons(){
  const container = document.getElementById("puzzleButtons");
  container.innerHTML = "";
  for(let i=1;i<=9;i++){
    const btn = document.createElement("a");
    btn.className="btn";
    btn.innerText = puzzleButtonNames[i-1];
    btn.onclick=()=>startQuiz(i);
    container.appendChild(btn);
  }
}

const quizData = {
 1:[
  {question:"In One Piece, what is Luffy's Devil Fruit?", basePoints:100, answers:[
    {text:"Gomu Gomu no Mi", correct:true},
    {text:"Mera Mera no Mi", correct:false},
    {text:"Hito Hito no Mi", correct:false},
    {text:"Ope Ope no Mi", correct:false}
  ]},
  {question:"Who killed Hisoka in Hunter x Hunter?", basePoints:120, answers:[
    {text:"Gon", correct:false},
    {text:"Chrollo", correct:true},
    {text:"Killua", correct:false},
    {text:"Leorio", correct:false}
  ]},
  {question:"What is the name of the first sword Zoro uses in One Piece?", basePoints:150, answers:[
    {text:"Wado Ichimonji", correct:true},
    {text:"Sandai Kitetsu", correct:false},
    {text:"Shusui", correct:false},
    {text:"Yubashiri", correct:false}
  ]},
  {question:"In Death Note, who is the second Kira?", basePoints:80, answers:[
    {text:"Light Yagami", correct:false},
    {text:"Misa Amane", correct:true},
    {text:"L", correct:false},
    {text:"Near", correct:false}
  ]},
  {question:"What is Naruto's mother's name?", basePoints:60, answers:[
    {text:"Kushina Uzumaki", correct:true},
    {text:"Hinata Hyuga", correct:false},
    {text:"Tsunade", correct:false},
    {text:"Sakura Haruno", correct:false}
  ]},
  {question:"Who taught Goku the Kamehameha?", basePoints:80, answers:[
    {text:"Master Roshi", correct:true},
    {text:"King Kai", correct:false},
    {text:"Gohan", correct:false},
    {text:"Piccolo", correct:false}
  ]},
  {question:"In Attack on Titan, what is the original name of the Founding Titan?", basePoints:130, answers:[
    {text:"Eren Jaeger", correct:false},
    {text:"Ymir Fritz", correct:true},
    {text:"Zeke Jaeger", correct:false},
    {text:"Historia Reiss", correct:false}
  ]},
  {question:"Who killed Itachi Uchiha in Naruto?", basePoints:100, answers:[
    {text:"Kakashi", correct:false},
    {text:"Sasuke", correct:true},
    {text:"Orochimaru", correct:false},
    {text:"Madara", correct:false}
  ]},
  {question:"What is Gohan's ultimate transformation?", basePoints:170, answers:[
    {text:"Super Saiyan 2", correct:true},
    {text:"Super Saiyan 3", correct:false},
    {text:"Mystic Gohan", correct:false},
    {text:"Super Saiyan God", correct:false}
  ]},
  {question:"In My Hero Academia, what is Deku's real name?", basePoints:80, answers:[
    {text:"Izuku Midoriya", correct:true},
    {text:"Katsuki Bakugo", correct:false},
    {text:"Shoto Todoroki", correct:false},
    {text:"Tenya Iida", correct:false}
  ]},
  {question:"Who is the main antagonist in Naruto Shippuden?", basePoints:100, answers:[
    {text:"Madara Uchiha", correct:true},
    {text:"Pain", correct:false},
    {text:"Orochimaru", correct:false},
    {text:"Kabuto", correct:false}
  ]},
  {question:"What is the name of the Hokage before Naruto?", basePoints:120, answers:[
    {text:"Tsunade", correct:true},
    {text:"Hiruzen Sarutobi", correct:false},
    {text:"Kakashi", correct:false},
    {text:"Minato", correct:false}
  ]},
  {question:"In Dragon Ball, who first kills Frieza?", basePoints:200, answers:[
    {text:"Goku", correct:false},
    {text:"Future Trunks", correct:true},
    {text:"Vegeta", correct:false},
    {text:"Piccolo", correct:false}
  ]},
  {question:"In One Punch Man, what is Saitama's hero name?", basePoints:70, answers:[
    {text:"Caped Bald", correct:true},
    {text:"Bald Hero", correct:false},
    {text:"Strong Man", correct:false},
    {text:"Punch King", correct:false}
  ]},
  {question:"Which country is Luffy from?", basePoints:50, answers:[
    {text:"East Blue", correct:true},
    {text:"West Blue", correct:false},
    {text:"North Blue", correct:false},
    {text:"South Blue", correct:false}
  ]},
  {question:"What is the name of Tanjiro's sword style?", basePoints:100, answers:[
    {text:"Water Breathing", correct:true},
    {text:"Flame Breathing", correct:false},
    {text:"Thunder Breathing", correct:false},
    {text:"Stone Breathing", correct:false}
  ]},
  {question:"Who was the first Titan Eren fought?", basePoints:150, answers:[
    {text:"Armored Titan", correct:false},
    {text:"Colossal Titan", correct:true},
    {text:"Beast Titan", correct:false},
    {text:"Female Titan", correct:false}
  ]},
  {question:"In Attack on Titan, what is Levi known for?", basePoints:80, answers:[
    {text:"Cooking abilities", correct:false},
    {text:"His speed and skill", correct:true},
    {text:"Being the main titan", correct:false},
    {text:"Healing powers", correct:false}
  ]},
  {question:"Which anime features the Phantom Troupe?", basePoints:50, answers:[
    {text:"Naruto", correct:false},
    {text:"One Piece", correct:false},
    {text:"Hunter x Hunter", correct:true},
    {text:"Bleach", correct:false}
  ]},
  {question:" In Tokyo Revengers, what gang does Takemichi try to save?", basePoints:110, answers:[
    {text:"Black Dragon", correct:false},
    {text:"Kanto Alliance", correct:false},
    {text:"White Snake", correct:false},
    {text:"Tokyo Manji", correct:true}
  ]},
  {question:"Who trained Luffy to use Haki?", basePoints:140, answers:[
    {text:"Rayleigh", correct:true},
    {text:"Shanks", correct:false},
    {text:"Roger", correct:false},
    {text:"Sanji", correct:false}
  ]},
  {question:"What is the name of Naruto's father?", basePoints:80, answers:[
    {text:"Kakashi Hatake", correct:false},
    {text:"Hiruzen Sarutobi", correct:false},
    {text:"Minato Namikaze", correct:true},
    {text:"Jiraiya", correct:false}
  ]},
  {question:"Who is the strongest Saiyan?", basePoints:100, answers:[
    {text:"Goku", correct:true},
    {text:"Vegeta", correct:false},
    {text:"Broly", correct:false},
    {text:"Gohan", correct:false}
  ]},
  {question:"In Attack on Titan, who is revealed to have the Coordinate power besides Eren?", basePoints:180, answers:[
    {text:"Historia Reiss", correct:false},
    {text:"Zeke Yeager", correct:true},
    {text:"Armin Arlert", correct:false},
    {text:"Levi Ackerman", correct:false}
  ]},
  {question:"In Naruto, who is the first JinchÅ«riki of the Nine-Tails before Kushina?", basePoints:200, answers:[
    {text:"Rin Nohara", correct:false},
    {text:"Minato Namikaze", correct:false},
    {text:"Uzumaki Naruto", correct:false},
    {text:"Mito Uzumaki", correct:true}
  ]},
  {question:"In Hunter x Hunter, what is the primary ability of Hisokaâ€™s Bungee Gum?", basePoints:200, answers:[
    {text:"Generating illusionsn", correct:false},
    {text:"NStretchable and sticky like gum", correct:true},
    {text:"Transforming objects into cards", correct:false},
    {text:"Controlling puppets", correct:false}
  ]},
  {question:"In One Piece, what is the real reason why Vegapunk created the Pacifista cyborgs?", basePoints:180, answers:[
    {text:"To experiment with Artificial Devil Fruits", correct:true},
    {text:"To protect marine bases", correct:false},
    {text:"To hunt down Devil Fruit usersi", correct:false},
    {text:"To replace the Shichibukai", correct:false}
  ]},
  {question:"In Attack on Titan, what is the real reason Historia Reiss becomes queen?", basePoints:150, answers:[
    {text:"To unify Marley and Paradis", correct:false},
    {text:"To protect her friends", correct:false},
    {text:"To lead a rebellion", correct:false},
    {text:"To inherit the Founding Titanâ€™s power", correct:true}
  ]},
  {question:"In Code Geass, what is the power of Geass given to Lelouch?", basePoints:60, answers:[
    {text:"Mind reading", correct:false},
    {text:"Time manipulation", correct:false},
    {text:"Absolute obedience to his command", correct:true},
    {text:"Super speed", correct:false}
  ]}
],
2: [
    {question:"Question 1 - Button 2", basePoints:100, answers:[
      {text:"Answer A",correct:true},
      {text:"Answer B",correct:false},
      {text:"Answer C",correct:false},
      {text:"Answer D",correct:false}
    ]}
  ],
  3: [],
  4: [],
  5: [],
  6: [],
  7: [],
  8: [],
  9: []
};
/* ===== QUIZ ===== */

function startQuiz(level){
  historyStack.push("puzzleMenu");
  showSection("quizSection");

  score=0;
  combo=0;
  currentQuestionIndex=0;

  currentQuiz = quizData[level] || [];

  shuffle(currentQuiz);
  currentQuiz.forEach(q => shuffle(q.answers));

  showQuestion();
}


function showQuestion(){
  const container=document.getElementById("quizContainer");
  const q=currentQuiz[currentQuestionIndex];

  timeLeft=20;

  container.innerHTML=`
    <div class="combo-text">Combo x${combo}</div>
    <div class="timer-bar" id="timerBar"></div>
    <h3 class="fade-in">${q.question}</h3>
    <div id="answers"></div>
    <br>
    <a class="btn" onclick="nextQuestion()">Next</a>
  `;

  startTimer(q);

  const answersDiv=document.getElementById("answers");

  q.answers.forEach(ans=>{
    const btn=document.createElement("div");
    btn.className="btn fade-in";
    btn.style.display="block";
    btn.style.margin="10px 0";
    btn.innerText=ans.text;

    btn.onclick=()=>{
      if(btn.classList.contains("answered")) return;

      document.querySelectorAll("#answers .btn").forEach(b=>b.classList.add("answered"));

      clearInterval(timer);

      if(ans.correct){
        correctSound.play();
        combo++;
        let speedBonus=timeLeft*2;
        let comboBonus=q.basePoints*(combo*0.1);
        score+=q.basePoints+speedBonus+comboBonus;
        btn.style.background="green";
      }else{
        wrongSound.play();
        combo=0;
        btn.style.background="red";
        btn.classList.add("shake");
      }
    };

    answersDiv.appendChild(btn);
  });
}

/* ===== TIMER ===== */

function startTimer(q){
  const bar=document.getElementById("timerBar");
  bar.style.width="100%";

  timer=setInterval(()=>{
    timeLeft--;
    bar.style.width=(timeLeft/20*100)+"%";

    if(timeLeft<=0){
      clearInterval(timer);
      combo=0;
    }
  },1000);
}

/* ===== NEXT ===== */

function nextQuestion(){
  if(currentQuestionIndex<currentQuiz.length-1){
    currentQuestionIndex++;
    showQuestion();
  }else{
    showResult();
  }
}

/* ===== RESULT ===== */

function showResult(){
  winSound.play();

  const totalBase=currentQuiz.length*100;
  const percent=Math.round((score/(totalBase))*100);

  const container=document.getElementById("quizContainer");

  container.innerHTML=`
    <h2 class="fade-in">Final Score: ${Math.floor(score)}</h2>
    <h3>${percent}%</h3>
    <br>
    <a class="btn" onclick="startQuiz(1)">Retry</a>
    <a class="btn" onclick="showSection('home')">Home</a>
  `;
}

/* ===== SHUFFLE ===== */

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
}

</script>

<button id="scrollTopBtn">â¬†</button>
</body>
</html>
